{"ast":null,"code":"var _jsxFileName = \"F:\\\\Users\\\\acharbash160192\\\\Documents\\\\React\\\\treegit\\\\fe\\\\src\\\\components\\\\Shape.jsx\";\nimport * as React from 'react';\nimport Konva from 'konva';\nimport { Arrow, Line, Stage, Layer, Circle, Text } from 'react-konva'; // constants\n// =========\n\nconst radius = 20; // input from json\n// ===============\n\nconst dataIn = {\n  allUserNames: ['Ariel Vaknin', 'Michael Farjon'],\n  nodes: [{\n    id: 1,\n    user_name: 'Ariel Vaknin',\n    date: '19/3/2018',\n    message: 'message 1'\n  }, {\n    id: 2,\n    user_name: 'Ariel Vaknin',\n    date: '11/1/2019',\n    message: 'message 2'\n  }, {\n    id: 3,\n    user_name: 'Michael Farjon',\n    date: '8/2/2019',\n    message: 'message 3'\n  }, {\n    id: 4,\n    user_name: 'Ariel Vaknin',\n    date: '1/4/2019',\n    message: 'message 4'\n  }],\n  edges: [[1, 2], [2, 3], [3, 4], [2, 4]]\n}; // parse data\n// ==========\n// [rows, cols] = parseData(dataIn);\n//   const firstRow = 100;\n//   const rows = []\n\nconst rows = [100, 200, 300, 400];\nconst cols = [500, 600, 700]; // usersToColumns = getUsersToColumns(dataIn.allUserNames, cols);\n\ndataIn.allUserNames = dataIn.allUserNames.concat(['Message']);\nconsole.log(dataIn.allUserNames);\nvar usersToColumns = {};\ndataIn.allUserNames.forEach((key, i) => usersToColumns[key] = cols[i]); // usersToColumns.Message = cols[cols.length -1]\n// console.log(usersToColumns);\n// const usersToColumns = {\n//   'Ariel Vaknin': 500,\n//   'Michael Farjon': 600,\n//   'Messages': 700\n//   };\n\nconsole.log(usersToColumns);\nconst arrows = [{\n  x1: 500,\n  y1: 100,\n  x2: 500,\n  y2: 200\n}, {\n  x1: 500,\n  y1: 200,\n  x2: 600,\n  y2: 300\n}, {\n  x1: 600,\n  y1: 300,\n  x2: 500,\n  y2: 400\n}, {\n  x1: 500,\n  y1: 200,\n  x2: 500,\n  y2: 400\n}];\nexport class Shape extends React.Component {\n  render() {\n    console.log(window.innerWidth);\n    console.log(window.innerHeight);\n    return React.createElement(Stage, {\n      width: window.innerWidth,\n      height: window.innerHeight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Layer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, dataIn.nodes.map((item, ind) => React.createElement(Circle, {\n      key: item.id,\n      x: usersToColumns[item.user_name],\n      y: rows[ind],\n      numPoints: 5,\n      Radius: radius,\n      fill: \"#89b717\",\n      opacity: 0.2,\n      shadowColor: \"black\",\n      shadowBlur: 10,\n      shadowOpacity: 0.6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }))), React.createElement(Layer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, dataIn.nodes.map((item, ind) => React.createElement(Text, {\n      text: item.id,\n      x: usersToColumns[item.user_name] - 5,\n      y: rows[ind] - 10,\n      fontSize: \"20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }))), React.createElement(Layer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, Object.keys(usersToColumns).map((user, ind) => // console.log(`user: ${user}, location: ${usersToColumns[user]}`);\n    React.createElement(Text, {\n      text: user,\n      x: usersToColumns[user] - 50,\n      y: 0,\n      wrap: \"char\",\n      align: \"center\",\n      width: 70,\n      fontSize: \"20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))), React.createElement(Layer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, dataIn.nodes.map((item, ind) => React.createElement(Text, {\n      text: \"\".concat(item.message, \" \").concat(item.date),\n      x: usersToColumns['Messages'],\n      y: rows[ind] - 10,\n      fontSize: \"20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))), React.createElement(Layer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, arrows.map(item => React.createElement(Arrow, {\n      points: [item.x1, item.y1 + radius, item.x2, item.y2 - radius],\n      stroke: \"red\",\n      tension: 1,\n      pointerLength: 10,\n      pointerWidth: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["F:\\Users\\acharbash160192\\Documents\\React\\treegit\\fe\\src\\components\\Shape.jsx"],"names":["React","Konva","Arrow","Line","Stage","Layer","Circle","Text","radius","dataIn","allUserNames","nodes","id","user_name","date","message","edges","rows","cols","concat","console","log","usersToColumns","forEach","key","i","arrows","x1","y1","x2","y2","Shape","Component","render","window","innerWidth","innerHeight","map","item","ind","Object","keys","user"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Konva from 'konva';\nimport { Arrow, Line, Stage, Layer, Circle, Text } from 'react-konva';\n\n// constants\n// =========\nconst radius = 20;\n\n// input from json\n// ===============\nconst dataIn = {\n  allUserNames: ['Ariel Vaknin', 'Michael Farjon'],\n  nodes: [\n    { id: 1, user_name: 'Ariel Vaknin', date: '19/3/2018', message: 'message 1' },\n    { id: 2, user_name: 'Ariel Vaknin', date: '11/1/2019', message: 'message 2' },\n    { id: 3, user_name: 'Michael Farjon', date: '8/2/2019', message: 'message 3' },\n    { id: 4, user_name: 'Ariel Vaknin', date: '1/4/2019', message: 'message 4' }\n  ],\n  edges: [[1,2], [2,3], [3,4], [2,4]], \n};\n\n// parse data\n// ==========\n// [rows, cols] = parseData(dataIn);\n//   const firstRow = 100;\n//   const rows = []\n\nconst rows = [100, 200, 300, 400];\nconst cols = [500, 600, 700];\n// usersToColumns = getUsersToColumns(dataIn.allUserNames, cols);\n\ndataIn.allUserNames = dataIn.allUserNames.concat(['Message'])\nconsole.log(dataIn.allUserNames)\n\nvar usersToColumns = {};\ndataIn.allUserNames.forEach((key, i) => usersToColumns[key] = cols[i]);\n\n// usersToColumns.Message = cols[cols.length -1]\n// console.log(usersToColumns);\n\n// const usersToColumns = {\n//   'Ariel Vaknin': 500,\n//   'Michael Farjon': 600,\n//   'Messages': 700\n//   };\n\n console.log(usersToColumns);\n \n\nconst arrows = [\n  { x1: 500 , y1: 100, x2: 500, y2: 200 },\n  { x1: 500 , y1: 200, x2: 600, y2: 300 },\n  { x1: 600 , y1: 300, x2: 500, y2: 400 },\n  { x1: 500 , y1: 200, x2: 500, y2: 400 },\n]\n\n\n\n\nexport class Shape extends React.Component {\n  render() {\n      console.log(window.innerWidth);\n      console.log(window.innerHeight);\n    return (\n      <Stage width={ window.innerWidth } height={ window.innerHeight }>\n        <Layer>\n          {dataIn.nodes.map((item, ind) => (\n              <Circle\n                key={item.id}\n                x={usersToColumns[item.user_name]}\n                y={rows[ind]}\n                numPoints={5}\n                Radius={radius}\n                fill=\"#89b717\"\n                opacity={0.2}\n                shadowColor=\"black\"\n                shadowBlur={10}\n                shadowOpacity={0.6}\n              />\n          ))}\n        </Layer>\n        <Layer>\n          {dataIn.nodes.map((item, ind) => (\n              <Text \n                text={item.id}\n                x={usersToColumns[item.user_name] - 5}\n                y={rows[ind] - 10}\n                fontSize='20'\n              />\n          ))}\n        </Layer>\n        <Layer>{ \n          Object.keys(usersToColumns).map( (user, ind) => (\n            // console.log(`user: ${user}, location: ${usersToColumns[user]}`);\n            <Text \n              text={user}\n              x={usersToColumns[user] - 50}\n              y={0}\n              wrap=\"char\"\n              align=\"center\"\n              width={70}\n              fontSize='20'\n            /> \n          ))}\n        </Layer>\n        <Layer>\n          {dataIn.nodes.map((item, ind) => (\n              <Text \n                text={`${item.message} ${item.date}`}\n                x={usersToColumns['Messages']}\n                y={rows[ind] - 10}\n                fontSize='20'\n              />\n          ))}\n        </Layer>\n        <Layer>\n          {arrows.map( item => (\n              <Arrow \n                points={ [item.x1, item.y1 + radius, item.x2, item.y2 - radius] }\n                stroke='red'\n                tension={1}\n                pointerLength={10}\n                pointerWidth={12}\n            />\n          ))}\n        </Layer>\n      </Stage>\n    );\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}